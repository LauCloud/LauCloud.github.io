<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Servlet," />








  <link rel="shortcut icon" type="image/x-icon" href="/website.jpg?v=5.1.0" />






<meta name="description" content="在开发 Java 浏览器和服务器的 B/S 架构程序中，最开始用来接收浏览器发给服务器端请求的就是 Servlet 了，它最主要的作用就是用来接收用户请求，然后处理完相关的业务逻辑之后，再返回相应的信息给浏览器端。">
<meta property="og:type" content="article">
<meta property="og:title" content="Servlet的基本使用">
<meta property="og:url" content="http://yoursite.com/2017/11/01/Servlet的基本使用/index.html">
<meta property="og:site_name" content="云开">
<meta property="og:description" content="在开发 Java 浏览器和服务器的 B/S 架构程序中，最开始用来接收浏览器发给服务器端请求的就是 Servlet 了，它最主要的作用就是用来接收用户请求，然后处理完相关的业务逻辑之后，再返回相应的信息给浏览器端。">
<meta property="og:updated_time" content="2017-11-23T13:05:52.689Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Servlet的基本使用">
<meta name="twitter:description" content="在开发 Java 浏览器和服务器的 B/S 架构程序中，最开始用来接收浏览器发给服务器端请求的就是 Servlet 了，它最主要的作用就是用来接收用户请求，然后处理完相关的业务逻辑之后，再返回相应的信息给浏览器端。">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 'undefined',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2017/11/01/Servlet的基本使用/"/>





  <title> Servlet的基本使用 | 云开 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">云开</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">努力成长，To be strong!</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            爱心公益
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/11/01/Servlet的基本使用/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lau Cloud">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/logo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="云开">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Servlet的基本使用
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-01T21:04:30+08:00">
                2017-11-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Servlet/" itemprop="url" rel="index">
                    <span itemprop="name">Servlet</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/11/01/Servlet的基本使用/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/11/01/Servlet的基本使用/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2017/11/01/Servlet的基本使用/" class="leancloud_visitors" data-flag-title="Servlet的基本使用">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>在开发 <code>Java</code> 浏览器和服务器的 <code>B/S</code> 架构程序中，最开始用来接收浏览器发给服务器端请求的就是 <code>Servlet</code> 了，它最主要的作用就是用来接收用户请求，然后处理完相关的业务逻辑之后，再返回相应的信息给浏览器端。</p>
<a id="more"></a>
<h3 id="1-Servlet是什么？"><a href="#1-Servlet是什么？" class="headerlink" title="1.Servlet是什么？"></a>1.Servlet是什么？</h3><p>首先先看一下 <code>API</code> 文档中对它的定义：</p>
<pre><code>`A servlet is a small Java program that runs within a Web server. Servlets receive and respond to requests from Web clients, usually across HTTP, the HyperText Transfer Protocol. `
</code></pre><p><code>Servlet</code> 是一种必须运行在 <code>Web</code> 服务器中的 <code>Java</code> 小程序，通常通过 <code>HTTP(超文本传输协议)</code> 来接受并响应来自 <code>Web</code> 客户端的请求。</p>
<h3 id="2-新建一个Servlet"><a href="#2-新建一个Servlet" class="headerlink" title="2.新建一个Servlet"></a>2.新建一个Servlet</h3><p>如何才能新建一个 <code>Servlet</code> 呢？首先想到的就是实现 <code>javax.servlet.Servlet</code> 接口，然后再对实现接口的类进行配置。当然在实现 <code>Servlet</code> 这个接口的时候，也会需要重写它的很多方法。</p>
<p>首先声明一个类来实现 <code>Servlet</code> 接口：</p>
<pre><code>import java.io.IOException;
import javax.servlet.Servlet;
import javax.servlet.ServletConfig;
import javax.servlet.ServletException;
import javax.servlet.ServletRequest;
import javax.servlet.ServletResponse;

public class ServletUrl  implements Servlet{

    @Override
    public void init(ServletConfig config) throws ServletException {

    }

    @Override
    public ServletConfig getServletConfig() {
        return null;
    }

    @Override
    public void service(ServletRequest req, ServletResponse res)
            throws ServletException, IOException {
        System.out.println(&quot;ServletUrl被访问了...&quot;);
    }

    @Override
    public String getServletInfo() {
        return null;
    }

    @Override
    public void destroy() {

    }
}
</code></pre><p>然后再到 <code>web.xml</code> 文件中对这个 <code>Servlet</code> 进行配置</p>
<pre><code>&lt;servlet&gt;
    &lt;servlet-name&gt;ServletUrl&lt;/servlet-name&gt;
    &lt;servlet-class&gt;party.laucloud.ServletUrl&lt;/servlet-class&gt;
&lt;/servlet&gt;
&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;ServletUrl&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/servletUrl&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
</code></pre><p>这样配置好了之后，当用户请求 <code>/servletUrl</code> 路径的时候就可以访问的到我们刚才编写的这个 <code>Servlet</code> 类了，而响应用户请求的则是 <code>Service()</code> 方法，因此可以在这个方法中添加打印语句进行测试。 `</p>
<h3 id="3-Servlet的执行流程"><a href="#3-Servlet的执行流程" class="headerlink" title="3.Servlet的执行流程"></a>3.Servlet的执行流程</h3><p>对于 <code>Servlet</code> 的执行流程，当用户在浏览器中输入地址对服务器进行访问的时候，首先就会根据访问路径到 <code>web.xml</code> 中 <code>Servlet</code> 配置中查找对应的 <code>&lt;url-pattern&gt;</code>，找到 <code>&lt;url-pattern&gt;</code> 之后就可以确定对应的 <code>&lt;servlet-name&gt;</code>，然后也就能确定到对应的 <code>&lt;servlet-class&gt;</code> 了，也就是具体的 <code>Servlet</code> 类了，而这个类中就会运行 <code>service()</code> 方法来响应用户的请求。这也就是 <code>Servlet</code> 的运行流程。</p>
<h3 id="4-Servlet的实现关系"><a href="#4-Servlet的实现关系" class="headerlink" title="4.Servlet的实现关系"></a>4.Servlet的实现关系</h3><p>首先先看一段官方 <code>API</code> 中对于如何创建 <code>Servlet</code> 的描述:</p>
<pre><code>`To implement this interface, you can write a generic servlet that extends javax.servlet.GenericServlet or an HTTP servlet that extends javax.servlet.http.HttpServlet.`
</code></pre><p>上面的说法是说要想创建一个 <code>Servlet</code> 有三种方式：</p>
<pre><code>1、实现javax.servlet.Servlet这个接口
2、继承javax.servlet.GenericServlet这个类
3、继承javax.servlet.http.HttpServlet这个类
</code></pre><p>而 <code>Servlet</code> 的实现关系也就是上面三者之间的关系，也就是 <code>GenericServlet</code> 这个类实现了 <code>Servlet</code> 这个接口，而 <code>HttpServlet</code> 又继承了 <code>GenericServlet</code> 这个类。<code>HttpServlet</code> 是一个与协议有关的类，即它是用来处理 <code>HTTP</code> 协议的请求的，而我们浏览器与服务器之间通信就是基于 <code>HTTP</code> 请求啊，为什么还需要 <code>GenericServlet</code> 这个类呢？这样设计完全就是为了应对以后的发展，虽然现在都是基于 <code>HTTP</code> 协议的，但是不代表以后也一直是基于这个协议，事物总是会有发展的嘛，所以就设定了 <code>GenericServlet</code> 这个与任何协议都无关的类，以应对以后的发展。</p>
<p>我们开发的时候一般都是继承 <code>HttpServlet</code> 这个类，然后再重写它的 <code>service()</code> 方法来处理用户的请求，在查看 <code>HttpServlet</code> 类中的 <code>service()</code> 方法的源码时发现，在处理用户发送过来的请求时，它是根据用户的请求方式分类来进行处理的，如果用户使用的是 <code>GET</code> 请求方式，那么就会运行 <code>doGet()</code> 方法来处理用户的请求，如果是 <code>POST</code> 方式的话，那就调用 <code>doPost()</code> 方法来处理用户的请求，当然还有很多其它的请求方式，也都预定了它们对应的处理方法，因为 <code>GET</code> 方式和 <code>POST</code> 方式是使用的最多的两种方式，因此我们在重写 <code>HttpServlet</code> 中方法的时候，就可以不重写 <code>service()</code> 方法，而是重写 <code>doGet()</code> 和 <code>doPost()</code> 方法。由于这两个方法要处理的业务逻辑往往是一样的，因此可以让其中一个方法调用另一个方法。</p>
<pre><code>protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
    doPost(request,response);
}

protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
    response.getWriter().print(&quot;hello servlet ...&quot;);
}
</code></pre><h3 id="5-在Eclipse中使用Servlet的模板"><a href="#5-在Eclipse中使用Servlet的模板" class="headerlink" title="5.在Eclipse中使用Servlet的模板"></a>5.在Eclipse中使用Servlet的模板</h3><p>也许你会觉得上面创建 <code>Servlet</code> 的方式太过繁琐了，想用简单一点的方式，但是最好还是在完全掌握上面这种方式之后再使用其它的方法，也就是下面要介绍的，基于 <code>Eclipse</code> 模板生成的这种，这种方式在创建 <code>Servlet</code> 的过程中，完全是可视化图形界面的方式，创建好类之后还会自动在 <code>web.xml</code> 文件中加入 <code>Servlet</code> 的配置，但是可能使用这种方式多了以后，就会忘记最原始怎么创建 <code>Servlet</code> 了。</p>
<p>其实方式也十分简单，就是在一个包中创建 <code>Servlet</code> 类的时候，单击右键，选择 <code>new</code>，然后再选择 <code>Servlet</code>，输入要创建的名称和实现的父类，点击下一步就可以修改 <code>URL mapping</code>,也就是我们之前手动设置时设置的 <code>&lt;url-pattern&gt;</code>，最后点击下一步选择需要重写的父类方法，点击完成 <code>Eclipse</code> 就会自动为我们生成一个 <code>Servlet</code> 了，而且还会在 <code>web.xml</code> 中跟我们配置好。</p>
<p>采用这种自动生成的方式的话，最好在生成之后都检查一下，生成的类和 <code>web.xml</code> 配置文件都应该检查一下。</p>
<h3 id="6-Servlet的生命周期"><a href="#6-Servlet的生命周期" class="headerlink" title="6.Servlet的生命周期"></a>6.Servlet的生命周期</h3><p>关于 <code>Servlet</code> 的生命周期，<code>API</code> 中也给出了非常详细的介绍：</p>
<p>`This interface defines methods to initialize a servlet, to service requests, and to remove a servlet from the server. These are known as life-cycle methods and are called in the following sequence: </p>
<pre><code>1.The servlet is constructed, then initialized with the init method. 
2.Any calls from clients to the service method are handled. 
3.The servlet is taken out of service, then destroyed with the destroy method, then garbage collected and finalized. `
</code></pre><p>上面就是说关于 <code>Servlet</code> 的生命周期，其实和三个方法有关，那就是 <code>init()</code>、<code>service()</code>以及 <code>destroy()</code> 方法，当一个 <code>Servlet</code> 第一次被访问的时候，这时 <code>Servlet</code> 对象就会被创建，被调用 <code>init()</code> 方法来进行一些初始化操作，而且 <code>init()</code> 只会执行一次，然后当有用户请求访问这个 <code>Servlet</code> 的时候，就会调用其中的 <code>service()</code> 方法进行响应，最后在将服务器关闭的时候，就会调用 <code>destroy()</code> 方法将这个 <code>Servlet</code> 进行销毁。这就是 <code>Servlet</code> 的生命周期了，要是想测试的话也可以分别在一个 <code>Servlet</code> 的 <code>init()</code>、<code>service()</code> 以及 <code>destroy()</code> 方法中加上打印语句进行测试。</p>
<h3 id="7-Servlet启动时加载配置"><a href="#7-Servlet启动时加载配置" class="headerlink" title="7.Servlet启动时加载配置"></a>7.Servlet启动时加载配置</h3><p><code>Servlet</code> 是什么时候被创建呢？是被第一次访问的时候，那么这样说来，在 <code>Servlet</code> 第一次被访问的时候响应速度应该是最慢的，因为需要做很多初始化的操作，那如何解决这个问题呢？就是可以将 <code>Servlet</code> 创建的时间从第一次被访问移到服务器启动的时候，这样虽然服务器启动时间会偏长一点，但是以后使用 <code>Servlet</code> 响应用户请求的时候，每次的响应时间就都是一样的了。</p>
<p>要想实现让 <code>Servlet</code> 在服务器启动时创建，就需要在 <code>Servlet</code> 的配置文件中加入 <code>load-on-startup</code> 属性，该属性对应的属性值就是启动优先级，值越小说明优先级越高，<code>Tomcat</code> 中有一个默认的 <code>Servlet</code> 设置的优先级为 <code>1</code>，所以我们一般将自己创建的 <code>Servlet</code> 优先级设置为 <code>2</code>,可以如下设置:</p>
<pre><code>&lt;servlet&gt;
    &lt;servlet-name&gt;ServletDemo1&lt;/servlet-name&gt;
    &lt;servlet-class&gt;party.laucloud.ServletDemo1&lt;/servlet-class&gt;
    &lt;load-on-startup&gt;2&lt;/load-on-startup&gt;
&lt;/servlet&gt;
&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;ServletDemo1&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/ServletDemo1&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
</code></pre><p><code>Tomcat</code> 中一个默认的 <code>Servlet</code> 的配置是在 <code>conf/web.xml</code> 中</p>
<pre><code>&lt;servlet&gt;
    &lt;servlet-name&gt;default&lt;/servlet-name&gt;
    &lt;servlet-class&gt;org.apache.catalina.servlets.DefaultServlet&lt;/servlet-class&gt;
    &lt;init-param&gt;
        &lt;param-name&gt;debug&lt;/param-name&gt;
        &lt;param-value&gt;0&lt;/param-value&gt;
    &lt;/init-param&gt;
    &lt;init-param&gt;
        &lt;param-name&gt;listings&lt;/param-name&gt;
        &lt;param-value&gt;false&lt;/param-value&gt;
    &lt;/init-param&gt;
    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
&lt;/servlet&gt;
</code></pre><h3 id="8-Servlet访问路径的配置"><a href="#8-Servlet访问路径的配置" class="headerlink" title="8.Servlet访问路径的配置"></a>8.Servlet访问路径的配置</h3><p><code>Servlet</code> 访问路径的设置，其实就是在 <code>web.xml</code> 中配置 <code>Servlet</code> 时其中的 <code>url-pattern</code> 属性，访问路径可以分为三种情况：全路径匹配、目录匹配和扩展名匹配。</p>
<pre><code>全路径匹配：以/开头，例如：/ServletDemo、/abc/ServletDemo
目录匹配：以/开头，*结尾。例如：/*、/aaa/*（*代表任意字符）
扩展名匹配：以*开头，.xxx结尾。例如：*.action、*.do
</code></pre><p>有一种情况就是有一个路径请求匹配了多种路径设置，比如 <code>/abc/servlet.action</code> 可能既会满足全路径匹配 <code>(/abc/servlet.action)</code>，又满足扩展名匹配 <code>(*.action)</code>，那这样情况应该如何匹配呢？</p>
<p>上面就是要涉及到优先级了，其中的规则就是越精确优先级越高，也就是<strong>全路径匹配&gt;目录匹配&gt;扩展名匹配</strong>，也就是如果一个 <code>Servlet</code> 在在进行全路径匹配之后，就不会再匹配目录匹配和扩展名匹配了。</p>
<h3 id="9-总结"><a href="#9-总结" class="headerlink" title="9.总结"></a>9.总结</h3><p>关于 <code>Servlet</code> 的掌握的话重点还是应该在多使用上面，使用的多了也就会非常熟练了，最好是能做一些小案例，这样解决一些问题之后就会理解的更透彻，至于一些相关理论知识，可以通过查询文档来学习得知。</p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Servlet/" rel="tag"># Servlet</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/10/02/HTTP协议/" rel="next" title="HTTP协议">
                <i class="fa fa-chevron-left"></i> HTTP协议
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/11/02/Servlet相关对象/" rel="prev" title="Servlet相关对象">
                Servlet相关对象 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        <!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
  <a class="jiathis_button_tsina"></a>
  <a class="jiathis_button_tqq"></a>
  <a class="jiathis_button_weixin"></a>
  <a class="jiathis_button_cqq"></a>
  <a class="jiathis_button_douban"></a>
  <a class="jiathis_button_renren"></a>
  <a class="jiathis_button_qzone"></a>
  <a class="jiathis_button_kaixin001"></a>
  <a class="jiathis_button_copy"></a>
  <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank"></a>
  <a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript" >
  var jiathis_config={
    hideMore:false
  }
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js" charset="utf-8"></script>
<!-- JiaThis Button END -->

      
    </div>
  </div>

          
          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/logo.jpg"
               alt="Lau Cloud" />
          <p class="site-author-name" itemprop="name">Lau Cloud</p>
           
              <p class="site-description motion-element" itemprop="description">想保护一个人</p>
          
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">40</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">13</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">23</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/LauCloud" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-Servlet是什么？"><span class="nav-number">1.</span> <span class="nav-text">1.Servlet是什么？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-新建一个Servlet"><span class="nav-number">2.</span> <span class="nav-text">2.新建一个Servlet</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-Servlet的执行流程"><span class="nav-number">3.</span> <span class="nav-text">3.Servlet的执行流程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-Servlet的实现关系"><span class="nav-number">4.</span> <span class="nav-text">4.Servlet的实现关系</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-在Eclipse中使用Servlet的模板"><span class="nav-number">5.</span> <span class="nav-text">5.在Eclipse中使用Servlet的模板</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-Servlet的生命周期"><span class="nav-number">6.</span> <span class="nav-text">6.Servlet的生命周期</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-Servlet启动时加载配置"><span class="nav-number">7.</span> <span class="nav-text">7.Servlet启动时加载配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-Servlet访问路径的配置"><span class="nav-number">8.</span> <span class="nav-text">8.Servlet访问路径的配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-总结"><span class="nav-number">9.</span> <span class="nav-text">9.总结</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Lau Cloud</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    
    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'laucloudparty';
      var disqus_identifier = '2017/11/01/Servlet的基本使用/';

      var disqus_title = "Servlet的基本使用";


      function run_disqus_script(disqus_script) {
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');

      
        var disqus_config = function () {
            this.page.url = disqus_url;
            this.page.identifier = disqus_identifier;
            this.page.title = disqus_title;
        };
        run_disqus_script('embed.js');
      

    </script>
  










  
  

  

  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("HOfS0Gs4yDR8hYgXvwhoQatu-gzGzoHsz", "Hpz44Tn78X4lsNc34GD6Rl1v");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  


  

</body>
</html>
